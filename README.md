# 钓鱼天气应用

这是一款专为钓鱼爱好者设计的天气应用，提供精准的天气信息和钓鱼适宜度评估，帮助用户选择最佳钓鱼时机。

## 主要功能

### 天气和钓鱼适宜度功能

1. **快速查看当前位置的钓鱼适宜度**
   - 应用启动后，通过IP定位自动获取当前位置
   - 显示当前位置的天气信息和钓鱼适宜度评估结果
   - 钓鱼适宜度以直观的颜色和等级(极佳/良好/一般/较差)显示

2. **查看精确位置的钓鱼适宜度**
   - 提供GPS定位按钮，点击后获取精确位置
   - 显示精确位置的天气信息和钓鱼适宜度
   - 显示定位成功的提示信息

3. **搜索特定城市的钓鱼适宜度**
   - 提供城市搜索功能
   - 显示搜索结果城市的天气信息和钓鱼适宜度
   - 支持历史搜索记录

4. **查看未来天气预报和钓鱼适宜度**
   - 显示未来3-7天的天气预报
   - 每天的预报包含钓鱼适宜度评估
   - 提供详细的天气参数(温度、风速、降水等)

5. **获取详细的钓鱼建议**
   - 根据当前天气获取详细的钓鱼建议
   - 建议包括适合的钓鱼技巧、鱼种和装备
   - 建议根据钓鱼适宜度等级有所不同

### 设置和偏好

1. **切换语言**
   - 提供语言设置选项，支持中文和英文
   - 切换语言后，整个应用界面立即更新
   - 语言设置被保存，下次启动应用时自动应用

2. **查看离线缓存的天气数据**
   - 在无网络连接时显示最近缓存的天气数据
   - 显示数据的缓存时间
   - 提供手动刷新按钮，在恢复网络连接后更新数据

3. **使用主屏幕小部件**
   - 提供主屏幕小部件，显示当前位置的天气和钓鱼适宜度
   - 小部件定期自动更新数据
   - 点击小部件可打开应用

## 钓鱼适宜度评估系统

钓鱼适宜度评估基于8项气象因素：
- 气压
- 天气状况
- 降水概率
- 云量
- 风速
- 温度
- 湿度
- 能见度

### 评分标准

- **气压**：1005-1015 hPa最佳(+2分)，>1015 hPa次之(+1分)，<1005 hPa较差(-1分)
- **天气状况**：晴好天气(+2分)，小雨/零星降雨(0分)，雾/薄雾(-1分)，大雨/恶劣天气(-2分)
- **降水概率**：<30%(+2分)，30-60%(0分)，>60%(-1分)
- **云量**：20-60%(+2分)，<20%或60-80%(0分)，>80%(-1分)
- **风速**：2-10 km/h(+2分)，<2或10-15 km/h(0分)，>15 km/h(-2分)
- **温度**：15-30°C(+2分)，<15°C或30-35°C(0分)，>35°C或极低温(-2分)
- **湿度**：40-80%(+2分)，<40%或80-90%(0分)，>90%(-1分)
- **能见度**：>5km(+2分)，2-5km(0分)，<2km(-2分)

### 适宜度等级

- **极佳(Excellent)**：≥12分，绿色标识
- **良好(Good)**：8-11分，蓝色标识
- **一般(Moderate)**：4-7分，橙色标识
- **较差(Poor)**：<4分，红色标识

## 技术架构

### 前端架构
- 开发框架：Flutter
- 状态管理：Provider
- 网络请求：http
- 本地存储：shared_preferences
- 图片处理：image_picker

### 数据来源
- 天气数据来源：wttr.in API，格式为JSON